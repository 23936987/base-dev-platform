# 概述

​      大部分后台系统数据库管理混乱,字段名各种命名,有拼音首字母,有全拼,甚至有中文命令的。不同人在不同时间设计的表结构,表名和字段名非常混乱，而且还没中文注释,降低的系统的可维护性

​       设计此工具的目标是规范化数据库建模过程,统一中英文命令,统一数据库的注释写法，也为代码生成工具提供一个良好的编写环境

​     **数据库模型**可以使用PowerDesginer和ERWin等工具,本项目采用PowerDesginer。

​    表名字段,名按配置配置到数据库sys_contrast表中

## 表名称

```sql
要求  
  1、使用下划线间隔单词
  2、同一中文名称不能有不同的英文名称
  3、同一英文名称不能有不同的中文名称
  4、表名称长度不要太长
  5、表名称构建，模块名_表名 
     eg:
         sys_user
```

## 表注释

```sql
1、名称      表名称为中英文对照中配置,
     eg. 全局用户表
2、显示名称   显示代码名称在代码生成工具中前台界面展示使用
     eg.  全局用户
3、说明
     eg. 全局用户是平台所有使用者身份标识  
4、注释项使用#隔开
5、注释规范

  类型            注释
   ---------------------------------
  0个#
	             名称
  1个#
	             名称#显示名称
  2个#
	             名称#显示名称#说明 
```

## 字段名称

```
要求  
  1、使用下划线间隔单词
  2、同一中文名称不能有不同的英文名称  
  3、同一英文名称不能有不同的中文名称
  4、字段名称长度不要太长
```



## 字段注释

```sql
1、名称      字段名称为中英文对照中配置,
2、显示名称   显示代码名称在代码生成工具中前台界面展示使用
     eg.  全局用户
3、说明
     eg. 全局用户是平台所有使用者身份标识  
4、字典代码
    数据字典代码,枚举取值范围
     eg. yesOrNo
5、外键
   表结构中引用其他表主建
     eg.user_id
6、关联表
   表结构外键引用的目标表
     eg.sys_user
7、外键显示名称
     
     
  类型          注释
   ---------------------------------

   0个# 
                名称
   1个# 
				名称#显示名称 
   2个#			
				名称#显示名称#说明 
				1#名称#说明 
				2#名称#字典代码
   3个#		     
                名称#显示名称#说明#字典代码 
                1#名称#显示名称#字典代码 
                2#名称#说明#字典代码 
   4个#			
                名称#显示名称#外键#关联表#关联显示
                1#名称#外键#关联表#关联显示
   5个#			
                名称#显示名称#说明#外键#关联表#关联显示 
                1#名称#显示名称#外键#关联表#关联显示 
                2#名称#说明#外键#关联表#关联显示 
				
```





# 基材概念

​        在数据库建模过程中的基本概念

## 模板文件

​        使用freemarker模板语法书写的类sql文件,然后使用工具生成建模文件

## PowerDesginer建模

​        在项目交互目标文件中包含**PowerDesginer数据库模型**，这里指**物理模型**和**逻辑模型**。PowerDesginer是一个数据库建模工具,可以很直观的展示一个项目的表结构,以及他们之间的关系,表结构之间的关系是解析sql文件的外键来实现。

​       维护PowerDesginer数据库模型可以直接在工具中建模,但是这样做纵成本高昂,不利于统一修改。另一种方式是直接导入sql，也就是建模文件。我们采用后一种方式。

​     PowerDesginer数据库模型分为**物理模型**和**逻辑模型**

###  逻辑模型

​     逻辑模型为中文显式，即PowerDesginer工具显示为中文

### 物理模型

​    物理模型为英文显式，即PowerDesginer工具显示为英文

## 数据库执行sql文件

​      为提交数据库执行效率,一般数据库建表都不使用外键。所以sql文件和模型文件的区别是没有外键的



# 命令

目录下有三个bat命令

  generatorSql.bat  

​          生成模型文件l,将 ftl目录下ftl模板文件生成到model目录中

 delforeign.bat  

​        生成sql文件,将 model目录下模型文件去提外键,拷贝到sql目录中

 run.bat

​      包括generatorSql.bat  , delforeign.bat的工作,一键生成模型文件和sql文件