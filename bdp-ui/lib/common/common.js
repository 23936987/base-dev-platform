function isEmpty(t){return null==t||null==t||"null"==(t+"").trim()||""==(t+"").trim()}function isNotEmpty(t){return!isEmpty(t)}Function.prototype.getName=function(){var t=this.name||this.toString().match(/function\s*([^(]*)\(/)[1];return t=t.substring(0,1).toLowerCase()+t.substring(1)};var class2type={},toString=Object.prototype.toString;function check_type(t){return null===t?String(t):class2type[toString.call(t)]||"object"}function isBoolean(t){return!isEmpty(t)&&"boolean"===check_type(t)}function isNumber(t){return!isEmpty(t)&&"number"===check_type(t)}function isString(t){return!isEmpty(t)&&"string"===check_type(t)}function isFunction(t){return!isEmpty(t)&&"function"===check_type(t)}function isArray(t){return null!=t&&"array"===check_type(t)}function isDate(t){return!isEmpty(t)&&"date"===check_type(t)}function isRegExp(t){return!isEmpty(t)&&"regexp"===check_type(t)}function isObject(t){return!isEmpty(t)&&"object"===check_type(t)}!function(){for(var t="Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),e=0;e<t.length;e++){var r=t[e];class2type["[object "+r+"]"]=r.toLowerCase()}}();var parseDate=function(){var i,o;if(0===arguments.length)return new Date;if(1===arguments.length?(i=arguments[0],o="yyyy-MM-dd HH:mm:ss"):2===arguments.length&&(i=arguments[0],o=arguments[1]),i.length==o.length){function t(t){var e=t.exec(o);if(e&&0!==e.length){var r=e[0],n=o.indexOf(r);return i.substr(n,r.length)}}var e=new Date,r=t(/(yyyy)+|(YYYY)+|(yy)+|(YY)+/g);r?e.setYear(parseInt(r)):e.setYear(1971);var n=t(/(MM)+|(M)+/g);n?e.setMonth(parseInt(n)-1):e.setMonth(0);var s=t(/(dd)+|(DD)+|(d)+|(D)+/g);s?e.setDate(parseInt(s)):e.setDate(1);var a=t(/(HH)+|(H)+/g);a?e.setHours(parseInt(a)):e.setHours(0);var u=t(/(mm)+|(m)+/g);u?e.setMinutes(parseInt(u)):e.setMinutes(0);var h=t(/(ss)+|(SS)|(s)+|(S)+/g);return h?e.setSeconds(parseInt(h)):e.setSeconds(0),e}alert("参数错误")},formatDate=function(){var o,s;0===arguments.length?(o=new Date,s="yyyy-MM-dd HH:mm:ss"):1===arguments.length?(o=arguments[0],s="yyyy-MM-dd HH:mm:ss"):2===arguments.length&&(o=arguments[0],s=arguments[1]);function t(t){var e=t.exec(s);if(e&&0!==e.length){function r(t){return(t+="").length<2?"0"+t:t}var n=e[0];if(!n||"yyyy"!=n&&"YYYY"!=n)if(!n||"yy"!=n&&"YY"!=n)if(n&&"MM"==n)a=a.replace(n,r(o.getMonth()+1));else if(n&&"M"==n)a=a.replace(n,o.getMonth()+1);else if(!n||"DD"!=n&&"dd"!=n)if(!n||"D"!=n&&"d"!=n)if(n&&"HH"==n)a=a.replace(n,r(o.getHours()));else if(n&&"H"==n)a=a.replace(n,o.getHours());else if(n&&"mm"==n)a=a.replace(n,r(o.getMinutes()));else if(n&&"m"==n)a=a.replace(n,o.getMinutes());else if(!n||"SS"!=n&&"ss"!=n){if(!n||"S"!=n&&"s"!=n)return null;a=a.replace(n,o.getSeconds())}else a=a.replace(n,r(o.getSeconds()));else a=a.replace(n,o.getDate());else a=a.replace(n,r(o.getDate()));else{var i=o.getYear()+"";a=a.replace(n,i.substr(2))}else a=a.replace(n,o.getFullYear())}}var a=s;return t(/(yyyy)+|(YYYY)+|(yy)+|(YY)+/g),t(/(MM)+|(M)+/g),t(/(dd)+|(DD)+|(d)+|(D)+/g),t(/(HH)+|(H)+/g),t(/(mm)+|(m)+/g),t(/(ss)+|(SS)|(s)+|(S)+/g),a};function serialize(t){var e="";if(isEmpty(t))return e;for(var r in t){var n=t[r];if(isArray(n))for(var i=0,o=n.length;i<o;i++)e+="&"+r+"="+n[i];else e+="&"+r+"="+n}return e.substring(1)}function unSerialize(t){var e={};if(isEmpty(t))return e;var r=t.split("&");if(isEmpty(r)||0===r.length)return e;for(var n=0,i=r.length;n<i;n++){var o=r[n].split("="),s=o[0],a=o[1];if(!isEmpty(s)&&!isEmpty(a)){var u=e[s];isEmpty(u)?e[s]=a:isArray(u)?u.push(a):e[s]=[u,a]}}return e}function getParameter(t,e){var r=[];e=e||0;for(var n,i=new RegExp(t+"=([^&]*)","g"),o=location.search.substring(1);null!=(n=i.exec(o));)r.push(n[1]);return 0==r.length?"":isNotEmpty(e)?r[e]:r.join(",")}function getQueryString(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),r=window.location.search.substr(1).match(e);return null!=r?unescape(r[2]):null}function uuid(){for(var t=[],e="0123456789ABCDEF".split(""),r=0;r<36;r++)t[r]=Math.floor(16*Math.random());t[14]=4,t[19]=3&t[19]|8;for(var n=0;n<36;n++)t[n]=e[t[n]];return t[8]=t[13]=t[18]=t[23]="-",t.join("")}function guid(){var t=uuid();return t=t.replaceAll("-","")}function setLocalStorage(t,e){if(!window.localStorage)return alert("浏览器不支持localstorage"),!1;window.localStorage.setItem(t,e)}function getLocalStorage(t){return window.localStorage?window.localStorage.getItem(t):(alert("浏览器不支持localstorage"),!1)}function getTopWindow(){for(var t=window;t.parent!=t&&isNotEmpty(t.parent.CC);)t=t.parent;return t}function logger(t,e){var r=new Date,n=formatDate(r)+" : "+r.getMilliseconds()+"  "+t;e?console.info(n,e):console.info(n)}String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.trimLeft=function(){return this.replace(/^\s*/,"")},String.prototype.trimRight=function(){return this.replace(/\s*$/,"")},String.prototype.startWith=function(t){return!isEmpty(t)&&this.substring(0,t.length)==t},String.prototype.endWith=function(t){return!isEmpty(t)&&this.substring(this.length-t.length)==t},String.prototype.format=function(){for(var t=isArray(arguments[0])?arguments[0]:arguments,e=this,r=0,n=t.length;r<n;r++)e=e.replace("{"+r+"}",t[r]);return e},String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)},String.prototype.realLength=function(){return this.replace(/[^\x00-\xff]/g,"**").length},String.prototype.append=function(t){return this.concat(t)},String.prototype.deleteCharAt=function(t){return t<0||t>=this.length?this.valueOf():0==t?this.substring(1,this.length):t==this.length-1?this.substring(0,this.length-1):this.substring(0,t)+this.substring(t+1)},String.prototype.deleteString=function(t,e){if(t==e)return this.deleteCharAt(t);if(e<t){var r=t;t=e,e=r}return t<0&&(t=0),e>this.length-1&&(e=this.length-1),this.substring(0,t)+this.substring(e+1,this.length)},String.prototype.equal=function(t){if(this.length!=t.length)return!1;for(var e=0;e<this.length;e++)if(this.charAt(e)!=t.charAt(e))return!1;return!0},String.prototype.equalIgnoreCase=function(t){var e=this.toLowerCase(),r=t.toLowerCase();return e.equal(r)},String.prototype.insert=function(t,e){return t<0||t>=this.length-1?this.append(e):this.substring(0,t+1)+e+this.substring(t+1)},String.prototype.repeat=function(t){for(var e=[],r=0;r<t;r++)e.push(this);return e.join("")},String.prototype.reverse=function(){return this.split("").reverse().join("")},String.prototype.setCharAt=function(t,e){return t<0||t>this.length-1?this.valueOf():this.substring(0,t)+e+this.substring(t+1)},String.prototype.charLength=function(){for(var t=0,e=0;e<this.length;e++)255<this.charCodeAt(e)?t+=2:t+=1;return t},String.prototype.getRealLength=function(){return this.replace(/[^x00-xff]/g,"--").length},String.prototype.left=function(t){return this.slice(0,t)},String.prototype.right=function(t){return this.slice(this.length-t)},String.prototype.occurs=function(t){return this.split(t).length-1},String.prototype.resetBlank=function(){return this.replace(/s+/g," ")},String.prototype.toCharArray=function(){return this.split("")};var slice=Array.prototype.slice;Array.prototype.size=function(){return this.length},Array.prototype.clear=function(){return this.length=0,this},Array.prototype.clone=function(){return slice.call(this,0)},Array.prototype.filter=function(t){for(var e=[],r=0,n=this.length;r<n;r++)t.call(null,this[r],r,this)&&e.push(this[r]);return e},Array.prototype.compact=function(){return this.filter(function(t,e,r){return null!=t&&""!=t})},Array.prototype.every=function(t){for(var e=0,r=this.length;e<r;++e)if(!t.call(null,this[e],e,this))return!1;return!0},Array.prototype.some=function(t){for(var e=0,r=this.length;e<r;++e)if(t.call(null,this[e],e,this))return!0;return!1},Array.prototype.each=function(t){for(var e=0,r=this.length;e<r;e++)t.call(null,this[e],e,this)},Array.prototype.map=function(t){for(var e=[],r=0,n=this.length;r<n;++r)e.push(t.call(null,this[r],r,this));return e},Array.prototype.random=function(){for(var t,e=[],r=this;0<r.length;)t=Math.floor(Math.random()*r.length),e[e.length]=r[t],r=r.deleteAt(t);return e},Array.prototype.sortNum=function(t){return 1==(t=t||0)?this.sort(function(t,e){return e-t}):this.sort(function(t,e){return t-e})},Array.prototype.getMax=function(){return this.sortNum(1)[0]},Array.prototype.getMin=function(){return this.sortNum(0)[0]},Array.prototype.arrUnique=function(){for(var t=[],e={},r=0;r<this.length;r++){var n=this[r];e[n]||(e[n]=!0,t.push(n))}return t},Array.prototype.indexOf=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]==t)return e;return-1},Array.prototype.indexOfById=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e].id==t)return e;return-1},Array.prototype.indexOfByFunc=function(t){for(var e=0,r=this.length;e<r;e++)if(t.call(null,this[e],e,this))return e;return-1},Array.prototype.getElementById=function(t){for(var e=0;e<this.length;e++)if(this[e].id==t)return this[e]},Array.prototype.getElementByFunc=function(t){for(var e=0;e<this.length;e++)if(t.call(null,this[e],e,this))return this[e]},Array.prototype.contains=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return!0;return!1},Array.prototype.containsById=function(t){for(var e=0;e<this.length;e++)if(this[e].id==t)return!0;return!1},Array.prototype.containsByFunc=function(t){for(var e=0;e<this.length;e++)if(t.call(null,this[e],e,this))return!0;return!1},Array.prototype.add=function(t){this.push(t)},Array.prototype.addAt=function(t,e){this.splice(t,0,e)},Array.prototype.addAll=function(t){for(var e=0;e<t.length;e++)this.add(t[e])},Array.prototype.removeAt=function(t){this.splice(t,1)},Array.prototype.remove=function(t){var e=this.indexOf(t);return 0<=e?(this.splice(e,1),e):-1},Array.prototype.removeById=function(t){for(var e=0;e<this.length;e++)this[e].id==t&&this.splice(e,1)},Array.prototype.removeByFunc=function(t){for(var e=0;e<this.length;e++)t.call(null,this[e],e,this)&&this.splice(e,1)},Array.prototype.removeAll=function(t){for(var e=0,r=t.length;e<r;e++)this.remove(t[e])},Date.prototype.toNow=function(){return this.setTime(Date.now()),this},Date.prototype.toMidnight=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this},Date.prototype.toEndNight=function(){return this.setHours(23),this.setMinutes(59),this.setSeconds(59),this},Date.prototype.secsAgo=function(t){return t=t?t-0:0,new Date(this.getTime()-1e3*t)},Date.prototype.daysAgo=function(t){return t=t?t-0:1,this.secsAgo(86400*t).toMidnight()},Date.prototype.monthBegin=function(t){t=t?t-0:0;var e=this.getDate()-1-t;return this.daysAgo(e)},Date.prototype.getDaysOfYear=function(){var t=new Date(this.getFullYear(),0,1),e=this.getTime()-t.getTime();return parseInt(e/864e5)+1},Date.prototype.getWeeksOfYear=function(t){var e=this.getDaysOfYear()-1;if(0<e%7){var r=new Date(this.getFullYear(),0,1);e+=t?(r.getDay()+6)%7:r.getDay()}return parseInt(e/7)},Date.prototype.getStartOfNextMonth=function(){var t=new Date(this);return t.setDate(15),t.setMonth(this.getMonth()+1),t.setDate(1),t.toMidnight(),t},Date.prototype.getEndOfNextMonth=function(){var t=new Date(this);return t.setDate(15),t.setMonth(this.getMonth()+2),t.setDate(0),t.toEndNight(),t},Date.prototype.plusMonths=function(t){var e=new Date(this);e.setMonth(this.getMonth()+t);var r=this.getMonth()+12*this.getFullYear();return e.getMonth()+12*e.getFullYear()-r!=t&&e.setDate(0),e},Date.prototype.minusDays=function(t){return new Date(this.getTime()-60*t*60*24*1e3)},Date.prototype.plusDays=function(t){return new Date(this.getTime()+60*t*60*24*1e3)};