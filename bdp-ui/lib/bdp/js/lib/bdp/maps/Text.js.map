{"version":3,"sources":["Text.js"],"names":["_$","Text","target","processKey","superclass","constructor","call","this","regClass","extend","FormItem","_cls","_clsPre","_uiCls","_uiPreCls","_attrProps","properties","addAll","_attrOpts","opts","$","type","_editModel","_this","setOption","_EDITABLE_","_clearShow","_replaceNode","component","el","_setStyle","_bindEvents","_init","_getEvents","_isEdit","event","value","bind","e","_focusHandler","_inputHandler","_blurHandler","getOption","isValid","_fire","height","inputStyle","isNotEmpty","css","getValue","_sync"],"mappings":"AAWAA,GAAGC,KAAK,SAAUC,EAAOC,GAErBH,GAAGC,KAAKG,WAAWC,YAAYC,KADnBC,KAC8BL,EAAOC,IAErDH,GAAGQ,SAAS,OAAOR,GAAGC,MAEtBD,GAAGS,OAAOT,GAAGC,KAAKD,GAAGU,SAAU,CAC3BC,KAAKX,GAAGY,QAAU,OAClBC,OAAOb,GAAGc,UAAY,OACtBC,WAAW,WACP,IACIC,EAAahB,GAAGC,KAAKG,WAAWW,WAAWT,KADnCC,MAGZ,OADAS,EAAWC,OAAO,CAAC,UAAU,UAAU,SAAS,aAAa,SACtDD,GAEXE,UAAU,WACN,IACIC,EAAOnB,GAAGC,KAAKG,WAAWc,UAAUZ,KAD5BC,MAEZ,OAAOa,EAAEX,QAAO,EAAKU,EAAK,CACtBE,KAAK,UAGbC,WAAW,WACP,IAAIC,EAAQhB,KACZgB,EAAMC,UAAU,QAAQC,YACxBF,EAAMG,aAENH,EAAMI,aADK,yCAEXJ,EAAMK,UAAYR,EAAE,QAAQG,EAAMM,IAClCN,EAAMO,YACNP,EAAMQ,cACNR,EAAMS,SAEVD,YAAY,WACR,IAAIR,EAAQhB,KAGZ,GAFAP,GAAGC,KAAKG,WAAW2B,YAAYzB,KAAKiB,GACpCvB,GAAGC,KAAKG,WAAW6B,WAAW3B,KAAKiB,EAAO,CAAC,UAAU,UAAU,WAC5DA,EAAMW,UAAU,CACf,IAAIC,EAAQ,GAEZA,EAAa,MAAIZ,EAAMa,MACvBb,EAAMK,UAAUS,KAAK,QAAQ,SAASC,GAClCf,EAAMgB,cAAcJ,KAExBZ,EAAMK,UAAUS,KAAK,uBAAuB,WACxCd,EAAMiB,cAAcL,KAExBZ,EAAMK,UAAUS,KAAK,OAAO,WACxBd,EAAMkB,aAAaN,OAW/BM,aAAa,SAASN,GAClB,IAAIZ,EAAQhB,KACMgB,EAAMmB,UAAU,gBAE9BnB,EAAMoB,SAAQ,GAGlBpB,EAAMqB,MAAM,SAAST,GACrBZ,EAAMqB,MAAM,WAAWT,IAS3BK,cAAc,SAASL,GACP5B,KACNqC,MAAM,UAAUT,IAS1BI,cAAc,SAASJ,GACP5B,KACPqC,MAAM,UAAUT,IAEzBL,UAAU,WACN,IAAIP,EAAQhB,KACZP,GAAGC,KAAKG,WAAW0B,UAAUxB,KAAKiB,GAElC,IAAIsB,EAAStB,EAAMmB,UAAU,UAC1BG,GACCtB,EAAMK,UAAUiB,OAAOA,GAE3B,IAAIC,EAAavB,EAAMmB,UAAU,cAC9BK,WAAWD,IACV9C,GAAGgD,IAAIzB,EAAMK,UAAUkB,IAG/BG,SAAS,WACL,IAAI1B,EAAQhB,KAIZ,OAHGgB,EAAMW,WACLX,EAAM2B,QAEH3B,EAAMa","file":"../../../Text.js","sourcesContent":["/**\r\n * 文本输入框组件\r\n *\r\n * @class Text\r\n * @constructor\r\n * @submodule form\r\n * @extends _$.FormItem\r\n * @param {String,nodeType,jquery} target 选择器\r\n * @param {String} processKey 解析器key\r\n * @namespace _$\r\n */\r\n_$.Text=function (target,processKey){\r\n    var _this = this;\r\n    _$.Text.superclass.constructor.call(_this,target,processKey);\r\n};\r\n_$.regClass(\"Text\",_$.Text);\r\n\r\n_$.extend(_$.Text,_$.FormItem, {\r\n    _cls:_$._clsPre + \"Text\",\r\n    _uiCls:_$._uiPreCls + \"Text\",\r\n    _attrProps:function(){\r\n        var _this = this;\r\n        var properties = _$.Text.superclass._attrProps.call(_this);\r\n        properties.addAll([\"onfocus\",\"oninput\",\"onblur\",\"inputStyle\",\"type\"]);\r\n        return properties;\r\n    },\r\n    _attrOpts:function(){\r\n        var _this = this;\r\n        var opts = _$.Text.superclass._attrOpts.call(_this);\r\n        return $.extend(true,opts,{\r\n            type:\"text\"\r\n        });\r\n    },\r\n    _editModel:function(){\r\n        var _this = this;\r\n        _this.setOption(\"model\",_EDITABLE_);\r\n        _this._clearShow();\r\n        var source='<input type=\"{{type}}\" class=\"Text\"/>';\r\n        _this._replaceNode(source);\r\n        _this.component = $(\".Text\",_this.el);\r\n        _this._setStyle();\r\n        _this._bindEvents();\r\n        _this._init();\r\n    },\r\n    _bindEvents:function(){\r\n        var _this = this;\r\n        _$.Text.superclass._bindEvents.call(_this);\r\n        _$.Text.superclass._getEvents.call(_this, [\"onfocus\",\"oninput\",\"onblur\"]);\r\n        if(_this._isEdit()){\r\n            var event = {\r\n            };\r\n            event['value'] = _this.value;\r\n            _this.component.bind(\"focus\",function(e){\r\n                _this._focusHandler(event);\r\n            });\r\n            _this.component.bind(\"input propertychange\",function(){\r\n                _this._inputHandler(event);\r\n            });\r\n            _this.component.bind(\"blur\",function(){\r\n                _this._blurHandler(event);\r\n            });\r\n        }\r\n    },\r\n    /**\r\n     *  blur事件处理器\r\n     *\r\n     *  @for _$.Text\r\n     *  @method _blurHandler\r\n     * @param {Object} event  事件对象\r\n     */\r\n    _blurHandler:function(event){\r\n        var _this = this;\r\n        var immediately = _this.getOption(\"immediately\");\r\n        if(immediately){\r\n            _this.isValid(false);\r\n        }\r\n\r\n        _this._fire(\"onblur\",event);\r\n        _this._fire(\"onchange\",event);\r\n    },\r\n    /**\r\n     *  input事件处理器\r\n     *\r\n     *  @for _$.Text\r\n     *  @method _inputHandler\r\n     * @param {Object} event  事件对象\r\n     */\r\n    _inputHandler:function(event){\r\n        var _this = this;\r\n        _this._fire(\"oninput\",event)\r\n    },\r\n    /**\r\n     *  focus 事件处理器\r\n     *\r\n     *  @for _$.Text\r\n     *  @method _focusHandler\r\n     * @param {Object} event  事件对象\r\n     */\r\n    _focusHandler:function(event){\r\n        var _this = this;\r\n       _this._fire(\"onfocus\",event)\r\n   },\r\n    _setStyle:function(){\r\n        var _this = this;\r\n        _$.Text.superclass._setStyle.call(_this);\r\n\r\n        var height = _this.getOption(\"height\");\r\n        if(height){\r\n            _this.component.height(height);\r\n        }\r\n        var inputStyle = _this.getOption('inputStyle');\r\n        if(isNotEmpty(inputStyle)){\r\n            _$.css(_this.component,inputStyle)\r\n        }\r\n    },\r\n    getValue:function(){\r\n        var _this = this;\r\n        if(_this._isEdit()){\r\n            _this._sync();\r\n        }\r\n        return _this.value;\r\n    },\r\n});\r\n"]}