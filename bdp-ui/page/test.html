<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--#include file="/base/common.shtml"-->
    <script type="text/javascript">
        var wait=function(){
            var dtd=$.Deferred();
            var tasks=function(){
                dtd.resolve("aaa");
            };
            setTimeout(tasks,5000);
            return dtd.promise();
        };

        var wait1=function(){
            var dtd=$.Deferred();
            var tasks=function(){
                dtd.resolve("bbb");
            };
            setTimeout(tasks,2000);
            return dtd.promise();
        };

        var arr = [];
        arr.push(wait())
        arr.push(wait1())
        $.when.apply(this,arr)
        .done(function(){
            for (var i = 0; i < arguments.length; i++) {
                alert(arguments[i])
            }
        })
        .fail(function(){
            dtd.reject(err)
        });
    </script>
</head>
<body>

</body>
</html>