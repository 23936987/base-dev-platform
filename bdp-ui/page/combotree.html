<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Combo</title>
</head>
<body>
<div id="mainBodyContent">
    <div id="content">

        <form class="form-horizontal" role="form" id="form">
            <table class="table able-striped table-bordered table-hover">
                <thead>
                </thead>
                <tbody id="base_data_body">
                <tr>
                    <td  class="vertical_center horizontal_center">
                        dict
                    </td>
                    <td style="position: relative">

                        <div id="dict"  class="bdp-ComboTree" required="true" immediately="true" nameCn="ComboTree" url="/data/area/nodes"
                             parentKey="parentCode" idField="areaCode" textField="areaName"  resultKey="list" panelWidth="300" panelHeight="300" style="width:200px;height:30px;" ></div>

                    </td>
                </tr>
                </tbody>
            </table>
          </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10" >
                    <input type="button" value="isValid" onclick="isValid()">
                    <input type="button" value="editModel" onclick="editModel()">
                    <input type="button" value="showModel" onclick="showModel()">
                    <input type="button" value="setValue" onclick="setValue()">
                    <input type="button" value="getValue" onclick="getValue()">
                </div>
            </div>
        </form>
    </div>
</div>

<!--#include file="/base/common.shtml"-->
<script type="text/javascript">

   function onchangeHandler(e) {
      // alert(e.value)
   }
    function isValid() {
        var form = new _$.Form("#form");
        form.isValid().done(function (flag) {
            logger("  ==== " + flag)
        })
        .fail(function(err){
            logger(err)
        });
    }
    function editModel() {
        var name = _$.getById("dict");
        name.setModel(1)
    }
    function showModel() {
        var name = _$.getById("dict");
        name.setModel(0)
    }
    function setValue() {
        var form = new _$.Form("#form");
        var data = {
            "dict":"520102"
        }
        form.setValue(data)
    }
    function getValue() {
        var form = new _$.Form("#form");
        var data = form.getValue();
        alert(JSON.stringify(data))
    }
    function onloadsuccess() {
        logger("------onloadsuccess---------")
    }
    var onLoadSuccess = function(){
        logger("------11---------")
    };
    $(function(){
        _$.parser.parse(onLoadSuccess)
    });
</script>

</body>
</html>