<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="mainBodyContent">
    <div id="content">

        <form class="form-horizontal" role="form" id="form">
            <table class="table able-striped table-bordered table-hover">
                <thead>
                </thead>
                <tbody id="base_data_body">
                <tr>
                    <td  class="vertical_center horizontal_center">
                        编码
                    </td>
                    <td style="position: relative">
                        <div id="id"  class="cc-Hidden"  nameCn="id"   initValue="1" ></div>
                        <div id="code"  class="cc-TextInput" required="true"  immediately="true" nameCn="编码" style="width:200px;height:30px;"   initValue="" data-options="" ></div>
                    </td>

                    <td  class="vertical_center horizontal_center">
                        名称
                    </td>
                    <td style="position: relative">
                        <div id="name"  class="cc-TextInput" required="true" immediately="true"    model="1"  nameCn="用户名" style="width:200px;height:30px;"   initValue="" data-options=""   ></div>
                    </td>

                    <td  class="vertical_center horizontal_center">
                        数字
                    </td>
                    <td style="position: relative">
                        <div id="email"  class="cc-TextInput" required="true" immediately="true"   model="1" validRules="greaterThan:10"  nameCn="数字" style="width:200px;height:30px;"   initValue="" data-options=""   ></div>
                    </td>
                </tr>
                <tr>
                    <td  class="vertical_center horizontal_center">
                        备注
                    </td>
                    <td>
                        <div id="memo" class="cc-TextArea" style="width: 280px;height: 80px;"  immediately="true" required="true"  nameCn="备注" ></div>
                    </td>
                </tr>
                </tbody>
            </table>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10" >
                    <input type="button" value="isValid" onclick="isValid()">
                    <input type="button" value="editModel" onclick="editModel()">
                    <input type="button" value="showModel" onclick="showModel()">
                    <input type="button" value="setValue" onclick="setValue()">
                    <input type="button" value="getValue" onclick="getValue()">
                </div>
            </div>
        </form>
    </div>
</div>

<!--#include file="/base/common.shtml"-->
<script type="text/javascript">

    function isValid() {
        var form = new _$.Form("#form");
        form.isValid().done(function (flag) {
            alert("  ==== " + flag)
        })
        .fail(function(err){
            logger(err)
        });
    }
    function editModel() {
        var name = _$.getById("name");
        name.setModel(1)
    }
    function showModel() {
        var name = _$.getById("name");
        name.setModel(0)
    }
    function setValue() {
        var form = new _$.Form("#form");
        var data = {
            "id":uuid(),
            "code":"11111",
            "name":"bbbb",
            "memo":"xxxxxxxxxxx"
        }
        form.setValue(data)
    }
    function getValue() {
        var form = new _$.Form("#form");
        var data = form.getValue();
        alert(JSON.stringify(data))
    }
    var onLoadSuccess = function(){
        logger("------11---------")
    };
    $(function(){
        _$.parser.parse(onLoadSuccess)
    });
</script>

</body>
</html>